<html>
<head>
<script type="text/javascript" src="/dexterous/dexterous.js"></script>
<script type="text/javascript" src="/dexterous/worker.js"></script>
<script type="text/javascript" src="/dexterous/remote.js"></script>
</head>
<body>
<p>Make sure to start the example NodeJS server using 'npm run exampleServer'!</p>
<div id="console"></div>

<script type="text/javascript">


const browserConsole = {
	log() {
		const el = document.getElementById("console");
		for(let i=0;i<arguments.length;i++) {
			el.innerHTML += (arguments[i] + " ");
		}
	}
}
const worker = new Dexterous.Worker();
worker.listen(3000,"127.0.0.1","/RemoteCall/worker.js").then(() => {
	const remote = new Dexterous.Remote(worker);
	remote.get("testProperty").then((result) => {
		browserConsole.log("value of testProperty is",result,"<br>");
	});
	remote.set("testProperty","newValue").then((result) => {
		browserConsole.log("testProperty changed",result,"<br>");
	});
	remote.get("testProperty").then((result) => {
		browserConsole.log("value of testProperty is",result,"<br>");
	});
	remote.call("testFunction",1).then((result) => {
		browserConsole.log(result,"<br>");
	});
	remote.apply("testFunction",[1]).then((result) => {
		browserConsole.log(result,"<br>");
	});
});

</script>
</body>
</html>